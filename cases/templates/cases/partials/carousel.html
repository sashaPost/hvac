<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cases Carousel</title>
    <script src="https://unpkg.com/htmx.org@2.0.0" integrity="sha384-wS5l5IKJBvK6sPTKa2WZ1js3d947pvWXbPJ1OmWfEuxLgeHcEbjUUA5i9V5ZkpCw" crossorigin="anonymous"></script>
{#    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">#}
</head>

<body>
    <div id="casesCarousel" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-inner">
            {% for case in cases %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <img src="{% if case.preview_image %}{{ case.preview_image.url }}{% endif %}" class="carousel-image d-block w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h3>{{ case.title }}</h3>
                    <button class="btn btn-primary"
                            hx-get="{% url 'case-detail' case.id %}"
                            hx-target="#caseDetailContent"
                            hx-trigger="click"
{#                            data-bs-toggle="modal"#}
{#                            data-bs-target="#caseDetailModal"#}
                    >
                        View Details
                    </button>
                </div>
            </div>
            {% endfor %}
        </div>
        <button class="carousel-control-prev"
                type="button"
                data-bs-target="#casesCarousel"
                data-bs-slide="prev">
            <span class="carousel-control-prev-icon"
                  aria-hidden="true">
            </span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next"
                type="button"
                data-bs-target="#casesCarousel"
                data-bs-slide="next">
            <span class="carousel-control-next-icon"
                  aria-hidden="true">
            </span>
            <span class="visually-hidden">
                Next
            </span>
        </button>
    </div>
    <!-- Modal Setup -->
    <div class="modal fade" id="caseDetailModal" tabindex="-1" aria-labelledby="caseDetailModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body" id="caseDetailContent">
                    <!-- Content loaded dynamically by HTMX -->
                </div>
            </div>
        </div>
    </div>
</body>

{#                <div id="simpleContent">#}
{#                    <!-- Content will be loaded here -->#}
{#                </div>#}
